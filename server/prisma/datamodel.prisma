
type Link {
    id: ID! @id
    createdAt: DateTime! @createdAt
    description: String!
    url: String!
    postedBy: User
    votes: [Vote!]!
}

type User {
    id: ID! @id
    name: String!
    email: String! @unique
    password: String!
    links: [Link!]!
    votes: [Vote!]!
    flightControllers: [FlightController!]! @relation(name: "AddedFlightControllers")
    editedFlightControllers: [FlightController!]! @relation(name: "EditedFlightControllers")
    addedMerchants: [Merchant!]! @relation(name: "AddedMerchants")
    editedMerchants: [Merchant!]! @relation(name: "EditedMerchants")
    AddedFlightControllers: [FlightControllerMerchantLink!]! @relation(name: "AddedFlightControllerMerchantLinks")
}

type Vote{
    id: ID! @id
    link: Link!
    user: User!
}

type FlightController{
    id: ID! @id
    createdAt: DateTime @createdAt
    updatedAt: DateTime @updatedAt
    postedBy: User @relation(name: "AddedFlightControllers")
    updatedBy: User @relation(name: "EditedFlightControllers")
    merchantLinks: [FlightControllerMerchantLink!]! @relation(name: "MerchantLinkFlightControllers")
    name: String
    disabled: Boolean
    releaseDate: DateTime
    uarts: Int
    gyroOne: Float
    gyroTwo: Float
    weightInGrams: Float
    cpu: String
    description: String
    dimensions: String
    holePattern: String
    voltageInputMin: Float
    voltageInputMax: Float
    osd: Boolean
    accelerometer: Boolean
    barometer: Boolean
    spektrumPort: Boolean
    usbInterface: Boolean
    ledWS2812Support: Boolean
    rssiPad: Boolean
    currentSensor: Boolean
    beeperPad: Boolean
    beeperOnBoard: Boolean
    antiVibrationGrommets: Boolean
    builtInReceiver: ReceiverProtocol
    threeVoltOutput: Boolean
    fiveVoltOut: Boolean
    cameraControl: Boolean
}

type Merchant{
    id: ID! @id
    createdAt: DateTime! @createdAt
    updatedAt: DateTime @updatedAt
    postedBy: User @relation(name: "AddedMerchants")
    updatedBy: User @relation(name: "EditedMerchants")
    flightControllers: [FlightControllerMerchantLink] @relation(name: "MerchantFlightControllers")
    name: String
    url: String
    affiliateId: String
    disabled: Boolean
}

type FlightControllerMerchantLink{
    id: ID! @id
    merchant: Merchant! @relation(name: "MerchantFlightControllers")
    flightController: FlightController! @relation(name: "MerchantLinkFlightControllers")
    url: String!
    price: Float!
    inStock: Boolean
    postedBy: User! @relation(name: "AddedFlightControllerMerchantLinks")
    createdAt: DateTime! @createdAt
    updatedAt: DateTime @updatedAt
}

enum ReceiverProtocol{
    CROSSFIRE
    FRSKY
    FLYSKY
    SPEKTRUM
}
